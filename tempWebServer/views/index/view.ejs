<html>
  <head>
    <title><%= title %></title>
    <script src="//code.jquery.com/jquery-2.2.0.min.js"></script>
    <style>
        body {
        background-color: hsl(0, 60%, 65%);
        transition: background-color 1s;
      }

    h1 {
        font-family: 'Lato', sans-serif;
        font-size: 120px;
        font-weight: 100;
        color: white;
        text-align: center;
        margin: 60px;
    }

    h1:before{
      content: attr(class) ":";
      font-size: 22px;
      position: relative;
      top: -69px;
      left: 0;
      text-transform: uppercase;
    }
    </style>
  <script>
          setInterval(function(){
            $.ajax({
              type:"get",
              url:"/api/temp/current",
              success:function(message){
                var hue = 200 - (parseInt(message) * 5);
                $(".temperature").html(parseInt(message) + "ºC");
                document.body.style.backgroundColor = "hsl(" + hue + ", 60%, 65%)";
              },
              error:function(){
                console.log("an error ouccured while fetching data");
              }
            });
          },88);
      </script>
    </head>
  <body>
    <h1 class="temperature">0ºC</h1>
  </body>
</html>
